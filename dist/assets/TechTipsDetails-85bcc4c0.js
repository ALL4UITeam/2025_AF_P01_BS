import{H as U}from"./HeaderTitle-8b92acd1.js";import{a as q,D as G}from"./DetailContent-6e492cb6.js";import{D as W}from"./DetailBottomButtons-9ca3c2b4.js";import{_ as M,o as m,c,a as e,F as w,h as D,t as l,b as u,w as B,u as k,s as b,z as V,E as Y,G as j,H as J,r as f,v as O,f as Q,g as X,d as y,n as H}from"./index-ea1fe16d.js";import{A as Z}from"./AuthenticationModal-6aa9dfb2.js";/* empty css                                                                            */import"./focustrap.esm-fad9eeb3.js";import"./index.esm-33afe35d.js";import"./portal.esm-abe0aab3.js";const ee={key:0,class:"attachment"},te={class:"attachment__contents"},se={class:"attachment__list"},oe={class:"attachment__download"},ae={__name:"DetailAttachment",props:{attachments:{type:Array,required:!0,default:()=>[]}},setup(o){return(h,_)=>o.attachments.length>0?(m(),c("div",ee,[_[1]||(_[1]=e("div",{class:"attachment__title"},"첨부파일",-1)),e("div",te,[e("ul",se,[(m(!0),c(w,null,D(o.attachments,(i,p)=>(m(),c("li",{key:p,class:"attachment__item"},l(i.name)+" ("+l(i.type)+", "+l(i.size)+") ",1))),128))]),e("div",oe,[u(k(b),{class:"button-krds tertiary small"},{default:B(()=>[..._[0]||(_[0]=[e("span",{class:"attachment__button"},"전체 압축 파일 받기",-1)])]),_:1})])])])):V("",!0)}},ie=M(ae,[["__scopeId","data-v-3c4b8911"]]);var le={root:function(h){var _=h.instance,i=h.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":_.filled,"p-inputtextarea-resizable ":i.autoResize,"p-invalid":i.invalid,"p-variant-filled":i.variant?i.variant==="filled":_.$primevue.config.inputStyle==="filled"}]}},ne=Y.extend({name:"textarea",classes:le}),de={name:"BaseTextarea",extends:j,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:ne,provide:function(){return{$parentInstance:this}}},S={name:"Textarea",extends:de,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(h){this.autoResize&&this.resize(),this.$emit("update:modelValue",h.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},re=["value","aria-invalid"];function me(o,h,_,i,p,n){return m(),c("textarea",J({class:o.cx("root"),value:o.modelValue,"aria-invalid":o.invalid||void 0,onInput:h[0]||(h[0]=function(){return n.onInput&&n.onInput.apply(n,arguments)})},o.ptmi("root",n.ptmParams)),null,16,re)}S.render=me;const ce={class:"commentBox"},ue={class:"commentBox__totalNumber"},_e={class:"commentBox__totalNumberCounting"},pe={key:0,class:"commentBox__login"},he={key:1,class:"commentBox__write"},ve={class:"commentBox__writeName"},fe={class:"commentBox__writeForm"},ye={class:"commentBox__writeFunction"},xe={class:"commentBox__writeCount","aria-live":"polite"},ke={class:"commentBox__writeNumber"},ge={class:"commentBox__writeRegistration"},Be={class:"commentBox__replyList",role:"list"},be={class:"commentBox__replyBox"},Ce={class:"commentBox__replyHeader"},Le={class:"commentBox__replyName"},we={class:"commentBox__replyDate"},$e={class:"commentBox__replyText"},Ne={class:"commentBox__replyFunction"},Ae={"aria-live":"polite"},Ie={key:0,class:"commentBox__login replyComment"},Te={key:1,class:"commentBox__inWrite"},Fe={class:"commentBox__write"},Pe={class:"commentBox__writeName"},Re={class:"commentBox__writeForm"},ze={class:"commentBox__writeFunction"},De={class:"commentBox__writeCount","aria-live":"polite"},Ve={class:"commentBox__writeNumber"},Se={class:"commentBox__writeRegistration"},Me={key:1,class:"commentBox__replyComment",role:"list"},Ee={class:"commentBox__replyHeader"},He={class:"commentBox__replyName"},Ke={class:"commentBox__replyDate"},Ue={class:"commentBox__replyCommentDetail"},qe={class:"commentBox__replyText"},Ge=["aria-pressed","onClick"],We={"aria-live":"polite"},F=500,Ye={__name:"CommentBox",props:{totalComments:{type:Number,default:0},isLoggedIn:{type:Boolean,default:!1},userName:{type:String,default:""},comments:{type:Array,default:()=>[]}},emits:["submit-comment","submit-reply","like-comment"],setup(o,{emit:h}){const _=o,i=f(_.comments.map(a=>({...a,replies:a.replies?a.replies.map(t=>({...t})):[]}))),p=f(""),n=f(""),g=f(null);let $,N;const A=a=>{var s;!((s=g.value)!=null&&s.$el.contains(document.activeElement))||!(a.key==="Tab")||(a.shiftKey?document.activeElement===$&&(N.focus(),a.preventDefault()):document.activeElement===N&&($.focus(),a.preventDefault()))},C=()=>{g.value&&g.value.openModal()},L=h,P=()=>{p.value.trim()&&(L("submit-comment",p.value),p.value="")},R=a=>{n.value.trim()&&(L("submit-reply",{parentId:a,content:n.value}),n.value="")},I=(a,t=!1,s=null)=>{var d,z,E;if(!_.isLoggedIn){C();return}if(t&&s){const r=i.value.find(v=>v.id===s);if(r){const v=r.replies.find(K=>K.id===a);v&&(v.isLiked=!v.isLiked,v.likes=v.isLiked?v.likes+1:v.likes-1)}}else{const r=i.value.find(v=>v.id===a);r&&(r.isLiked=!r.isLiked,r.likes=r.isLiked?r.likes+1:r.likes-1)}L("like-comment",{commentId:a,isReply:t,parentId:s,isLiked:t?(z=(d=i.value.find(r=>r.id===s))==null?void 0:d.replies.find(r=>r.id===a))==null?void 0:z.isLiked:(E=i.value.find(r=>r.id===a))==null?void 0:E.isLiked})};O(()=>_.comments,a=>{i.value=a.map(t=>({...t,replies:t.replies?t.replies.map(s=>({...s})):[]}))},{deep:!0}),Q(()=>{document.addEventListener("keydown",A)}),X(()=>{document.removeEventListener("keydown",A)});const x=()=>{window.location.reload()},T=()=>{console.log("Modal closed")};return(a,t)=>(m(),c("div",ce,[e("div",ue,[t[2]||(t[2]=y("댓글 ",-1)),e("span",_e,l(o.totalComments),1)]),o.isLoggedIn?(m(),c("div",he,[e("div",ve,l(o.userName),1),e("div",fe,[u(k(S),{class:"commentBox__writeFormInput",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),maxlength:F,placeholder:"댓글을 입력하세요","aria-label":"메인 댓글 입력",autoResize:""},null,8,["modelValue"])]),e("div",ye,[e("div",xe,[e("span",ke,l(p.value.length),1),y("/"+l(F))]),e("div",ge,[u(k(b),{class:"button-krds secondary small",onClick:P,disabled:!p.value.trim(),"aria-label":"메인 댓글 등록"},{default:B(()=>[...t[4]||(t[4]=[y(" 등록하기 ",-1)])]),_:1},8,["disabled"])])])])):(m(),c("div",pe,[u(k(b),{class:"commentBox__loginButton",onClick:C,"aria-haspopup":"dialog","aria-controls":"auth-modal"},{default:B(()=>[...t[3]||(t[3]=[y(" 댓글을 작성하려면 로그인하세요. ",-1)])]),_:1})])),e("ul",Be,[(m(!0),c(w,null,D(i.value,s=>(m(),c("li",{key:s.id,class:"commentBox__replyListItem"},[e("div",be,[e("div",Ce,[e("strong",Le,l(s.userName),1),e("span",we,l(s.date),1)]),e("p",$e,l(s.content),1),e("div",Ne,[u(k(b),{class:"button-krds tertiary small",onClick:d=>s.showReplyForm=!s.showReplyForm,"aria-expanded":s.showReplyForm},{default:B(()=>[...t[5]||(t[5]=[y(" 댓글작성 ",-1)])]),_:1},8,["onClick","aria-expanded"]),u(k(b),{type:"button",class:H(["commentBox__replyLike",{"is-active":s.isLiked}]),"aria-pressed":s.isLiked,onClick:d=>I(s.id,!1)},{default:B(()=>[t[6]||(t[6]=e("span",{class:"blind"},"좋아요",-1)),t[7]||(t[7]=y()),e("span",Ae,l(s.likes),1)]),_:2},1032,["class","aria-pressed","onClick"])])]),s.showReplyForm?(m(),c(w,{key:0},[o.isLoggedIn?(m(),c("div",Te,[e("div",Fe,[e("div",Pe,l(o.userName),1),e("div",Re,[u(k(S),{class:"commentBox__writeFormInput",modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=d=>n.value=d),maxlength:F,placeholder:"답글을 입력하세요","aria-label":"답글 입력",rows:"3",autoResize:""},null,8,["modelValue"])]),e("div",ze,[e("div",De,[e("span",Ve,l(n.value.length),1),y("/"+l(F))]),e("div",Se,[u(k(b),{class:"button-krds secondary small",onClick:d=>R(s.id),disabled:!n.value.trim(),"aria-label":"답글 등록"},{default:B(()=>[...t[8]||(t[8]=[y("등록하기",-1)])]),_:1},8,["onClick","disabled"])])])])])):(m(),c("div",Ie,[e("button",{class:"commentBox__loginButton",onClick:C,"aria-haspopup":"dialog","aria-controls":"auth-modal"}," 댓글을 작성하려면 로그인하세요. ")]))],64)):V("",!0),s.replies&&s.replies.length>0?(m(),c("ul",Me,[(m(!0),c(w,null,D(s.replies,d=>(m(),c("li",{key:d.id,class:"commentBox__replyCommentItem"},[e("div",Ee,[e("strong",He,l(d.userName),1),e("span",Ke,l(d.date),1)]),e("div",Ue,[e("p",qe,l(d.content),1),e("button",{type:"button",class:H(["commentBox__replyLike",{"is-active":d.isLiked}]),"aria-pressed":d.isLiked,onClick:z=>I(d.id,!0,s.id)},[t[9]||(t[9]=e("span",{class:"blind"},"좋아요",-1)),t[10]||(t[10]=y()),e("span",We,l(d.likes),1)],10,Ge)])]))),128))])):V("",!0)]))),128))]),u(Z,{id:"auth-modal",class:"loginAuthentication",ref_key:"authModalRef",ref:g,role:"dialog","aria-modal":"true","aria-labelledby":"auth-modal-title",onAuthSuccess:x,onClose:T},null,512)]))}},je=M(Ye,[["__scopeId","data-v-fca12dfb"]]);const Je={__name:"TechTipsDetails",setup(o){const h=f(null),_=f(!1),i=f("김철*"),p=f(8),n=f(!1),g=f([{id:1,userName:"관리자",date:"2025.12.12 20:17",content:`주소검색 API와 주소검색 솔루션의 차이를 안내드리겠습니다. 주소검색 API는 특정 기능을 외부 시스템에 연결해 사용할 수 있게 제공하는 인터페이스입니다.
주소검색 솔루션은 주소 검색 기능을 포함한 전체 패키지나 시스템입니다.`,likes:0,isLiked:!1,showReplyForm:!1,replies:[{id:2,userName:"관리자",date:"2025.12.12 20:17",content:"주소검색 API와 주소검색 솔루션의 차이를 안내드리겠습니다. ",likes:0,isLiked:!1},{id:3,userName:"관리자",date:"2025.12.12 20:17",content:`주소검색 API와 주소검색 솔루션의 차이를 안내드리겠습니다. 주소검색 API는 특정 기능을 외부 시스템에 연결해 사용할 수 있게 제공하는 인터페이스입니다.
주소검색 솔루션은 주소 검색 기능을 포함한 전체 패키지나 시스템입니다.`,likes:0,isLiked:!1},{id:4,userName:"관리자",date:"2025.12.12 20:17",content:`주소검색 API와 주소검색 솔루션의 차이를 안내드리겠습니다. 주소검색 API는 특정 기능을 외부 시스템에 연결해 사용할 수 있게 제공하는 인터페이스입니다.
주소검색 솔루션은 주소 검색 기능을 포함한 전체 패키지나 시스템입니다.`,likes:0,isLiked:!1}]},{id:5,userName:"관리자",date:"2025.12.12 20:17",content:`주소검색 API와 주소검색 솔루션의 차이를 안내드리겠습니다. 주소검색 API는 특정 기능을 외부 시스템에 연결해 사용할 수 있게 제공하는 인터페이스입니다.
주소검색 솔루션은 주소 검색 기능을 포함한 전체 패키지나 시스템입니다.`,likes:5,isLiked:!1,showReplyForm:!1,replies:[]}]),$=()=>{console.log("목록으로 이동")},N=()=>{h.value.openModal()},A=()=>{N()},C=x=>{console.log("댓글",x)},L=({parentId:x,content:T})=>{console.log("답글:",{parentId:x,content:T})},P=x=>{console.log("좋아요:",x)},R=()=>{n.value=!n.value,p.value+=n.value?1:-1},I=[{name:"주소검색 API와 솔루션의 기능별 차이점 및 도입 시 고려사항 정리자료 비교분석표.hwp",type:"hwp",size:"58.5KB"},{name:"주소기반산업지원서비스 주소 검색 서비스 비교자료.hwp",type:"hwp",size:"58.5KB"}];return(x,T)=>(m(),c(w,null,[u(U,{title:"주소정보 개발자 소통창구"}),u(G,{title:"주소검색 API와 주소검색 솔루션, 뭐가 다를까?",titleType:"category",categoryText:"Tech&Tips",date:"2025.03.27",viewCount:275}),u(ie,{attachments:I}),u(q,{content:"<div><img src='' alt='테스트' /></div><p>일반 텍스트</p>","like-count":p.value,"is-liked":n.value,onLike:R},null,8,["like-count","is-liked"]),u(je,{totalComments:g.value.length,isLoggedIn:_.value,userName:i.value,comments:g.value,onLogin:A,onSubmitComment:C,onSubmitReply:L,onLikeComment:P},null,8,["totalComments","isLoggedIn","userName","comments"]),u(W,{type:"left",leftButtons:[{text:"목록으로",onClick:$,class:"tertiary xlarge"}]},null,8,["leftButtons"])],64))}},it=M(Je,[["__scopeId","data-v-08dfeb6d"]]);export{it as default};
